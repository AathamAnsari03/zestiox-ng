<main class="container my-5">
    <h2 class="mb-4">Register</h2>
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Name</label>
          <input type="text" class="form-control" formControlName="name" />
          <div class="error-text" *ngIf="submitted && f['name'].errors">
            Name is required
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Mobile</label>
          <input type="text" class="form-control" formControlName="mobile" />
          <div class="error-text" *ngIf="submitted && f['mobile'].errors">
            <span *ngIf="f['mobile'].errors['required']">Mobile number is required</span>
            <span *ngIf="f['mobile'].errors['pattern']">Mobile number must be 10 digits</span>
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Password</label>
          <input type="password" class="form-control" formControlName="password" />
          <div class="error-text" *ngIf="submitted && f['password'].errors">
            <span *ngIf="f['password'].errors['required']">Password is required</span>
            <span *ngIf="f['password'].errors['minlength']">Password must be at least 8 characters</span>
            <span *ngIf="f['password'].errors['pattern']">Password must contain lowercase, uppercase, number, and special character</span>
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Confirm Password</label>
          <input type="password" class="form-control" formControlName="confirm_password" />
          <div class="error-text" *ngIf="submitted && (f['confirm_password'].errors || registrationForm.errors && registrationForm.errors['mismatch'])">
            <span *ngIf="f['confirm_password'].errors && f['confirm_password'].errors['required']">Confirm Password is required</span>
            <span *ngIf="registrationForm.errors && registrationForm.errors['mismatch']">Passwords do not match</span>
          </div>
        </div>
      </div>

      <div class="mt-4 success-box" *ngIf="successMessage">
        âœ… {{ successMessage }}
        <button class="btn btn-success ms-3" type="button" routerLink="/login">Go to Login</button>
      </div>
      <div class="mt-4 error-text" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <button class="btn btn-primary mt-3" type="submit">Register</button>
    </form>
  </main>