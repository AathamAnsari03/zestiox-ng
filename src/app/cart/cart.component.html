<div class="container py-4">
  <div class="row">
    <div class="col-12">
      <h2 class="fw-bold mb-4" style="font-size: 1.7rem;">Your Cart</h2>
      <div *ngIf="orderPlaced" class="alert alert-success text-center" style="font-size: 1.2rem;">
        Order placed successfully!
      </div>
      <ng-container *ngIf="cartItems.length > 0 && !orderPlaced; else noItems">
        <table class="table align-middle mb-0" style="min-width: 500px;">
          <thead>
            <tr>
              <th class="fw-semibold" style="font-size: 1rem;">Item</th>
              <th class="fw-semibold" style="font-size: 1rem;">Qty</th>
              <th class="fw-semibold" style="font-size: 1rem;">Price</th>
              <th class="fw-semibold" style="font-size: 1rem;">Total</th>
              <th style="width: 40px;"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of cartItems">
              <td style="font-size: 1rem;">{{ item.name }}</td>
              <td>
                <div class="input-group input-group-sm justify-content-center" style="width: 120px;">
                  <button class="btn btn-outline-secondary px-2 py-0" type="button"
                    style="font-size: 1rem; line-height: 1;"
                    (click)="updateQuantity(item, -1)">
                    <i class="bi bi-dash"></i>
                  </button>
                  <input type="text" class="form-control text-center px-1"
                    [value]="item.quantity"
                    readonly
                    style="font-size: 1rem; background: #fff; min-width: 48px; max-width: 70px;">
                  <button class="btn btn-outline-secondary px-2 py-0" type="button"
                    style="font-size: 1rem; line-height: 1;"
                    (click)="updateQuantity(item, 1)">
                    <i class="bi bi-plus"></i>
                  </button>
                </div>
              </td>
              <td style="font-size: 1rem;">₹{{ item.price }}</td>
              <td class="fw-semibold" style="font-size: 1rem; color: #000;">₹{{ item.line_total }}</td>
              <td>
                <button class="btn btn-link text-danger p-0" title="Remove"
                  (click)="removeItem(item)">
                  <i class="bi bi-trash" style="font-size: 1.2rem;"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="d-flex justify-content-end mt-4">
          <div style="min-width: 260px; text-align: right;">
            <h4 class="fw-bold mb-3" style="font-size: 1.3rem;">
              Grand Total: <span class="fw-bold">₹{{ grandTotal.toFixed(2) }}</span>
            </h4>
            <button class="btn btn-primary px-4 py-2 fw-semibold" style="font-size: 1.1rem;" (click)="placeOrder()">Place Order</button>
          </div>
        </div>
      </ng-container>
      <ng-template #noItems>
        <div class="text-center py-5 text-muted" style="font-size: 1.2rem;">
          No cart items added
        </div>
      </ng-template>
    </div>
  </div>
</div>